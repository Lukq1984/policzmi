<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="PrzeliczMi - szybko i łatwo przeliczaj jednostki długości, masy, objętości, temperatury i więcej"
		/>
		<meta
			name="keywords"
			content="przeliczmi, konwerter jednostek, przelicznik miar, kalkulator jednostek, długość, masa, objętość, temperatura"
		/>
		<title>PrzeliczMi - Konwerter jednostek</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<style>
			:root {
				--primary-color: #4361ee;
				--primary-light: #4895ef;
				--primary-dark: #3a0ca3;
				--secondary-color: #f8f9fa;
				--accent-color: #4cc9f0;
				--text-color: #2b2d42;
				--light-gray: #e9ecef;
				--card-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);
				--hover-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
			}

			body {
				font-family: "Poppins", sans-serif;
				color: var(--text-color);
				background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
				transition: all 0.3s ease;
				line-height: 1.6;
			}

			.navbar-brand {
				font-weight: 700;
				color: var(--primary-color) !important;
				font-size: 1.5rem;
				letter-spacing: -0.5px;
			}

			.navbar {
				box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
				background-color: white !important;
				padding: 0.8rem 0;
			}

			.nav-link {
				font-weight: 500;
				padding: 0.5rem 1rem !important;
				transition: all 0.3s ease;
			}

			.nav-link:hover {
				color: var(--primary-color) !important;
				transform: translateY(-2px);
			}

			.conversion-card {
				border-radius: 16px;
				border: none;
				box-shadow: var(--card-shadow);
				transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
				background-color: white;
				margin-bottom: 1.5rem;
				overflow: hidden;
			}

			.conversion-card:hover {
				transform: translateY(-5px);
				box-shadow: var(--hover-shadow);
			}

			.card-title {
				color: var(--primary-dark);
				font-weight: 600;
			}

			.btn-primary {
				background: linear-gradient(
					135deg,
					var(--primary-color) 0%,
					var(--primary-light) 100%
				);
				border: none;
				border-radius: 50px;
				padding: 10px 25px;
				font-weight: 500;
				letter-spacing: 0.5px;
				box-shadow: 0 4px 12px rgba(67, 97, 238, 0.15);
				transition: all 0.3s ease;
			}

			.btn-primary:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 15px rgba(67, 97, 238, 0.25);
				background: linear-gradient(
					135deg,
					var(--primary-light) 0%,
					var(--primary-color) 100%
				);
			}

			.btn-secondary {
				background: linear-gradient(135deg, #8d99ae 0%, #6c757d 100%);
				border: none;
				border-radius: 50px;
				padding: 10px 25px;
				font-weight: 500;
				letter-spacing: 0.5px;
				box-shadow: 0 4px 12px rgba(141, 153, 174, 0.15);
				transition: all 0.3s ease;
			}

			.btn-secondary:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 15px rgba(141, 153, 174, 0.25);
			}

			.form-control,
			.form-select {
				border-radius: 12px;
				padding: 12px 15px;
				font-size: 1rem;
				border: 1px solid #dee2e6;
				background-color: #f8fafc;
				transition: all 0.3s ease;
			}

			.form-control:focus,
			.form-select:focus {
				border-color: var(--accent-color);
				box-shadow: 0 0 0 0.25rem rgba(76, 201, 240, 0.25);
				background-color: white;
			}

			.form-label {
				font-weight: 500;
				color: #495057;
				margin-bottom: 0.5rem;
			}

			.history-item,
			.popular-item {
				cursor: pointer;
				transition: all 0.3s ease;
				border-radius: 8px;
				margin-bottom: 0.25rem;
				border-left: 3px solid transparent;
				padding: 10px 15px;
			}

			.history-item:hover,
			.popular-item:hover {
				background-color: var(--light-gray);
				border-left: 3px solid var(--primary-color);
				transform: translateX(3px);
			}

			.ad-space {
				background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%);
				border-radius: 16px;
				min-height: 250px;
				display: flex;
				align-items: center;
				justify-content: center;
				color: #8d99ae;
				font-weight: 600;
				border: 1px dashed #ced4da;
				overflow: hidden;
				position: relative;
			}

			.ad-space::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(
					90deg,
					rgba(255, 255, 255, 0) 0%,
					rgba(255, 255, 255, 0.3) 50%,
					rgba(255, 255, 255, 0) 100%
				);
				animation: shimmer 3s infinite;
			}

			@keyframes shimmer {
				100% {
					left: 100%;
				}
			}

			.result-section {
				transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
				border-radius: 12px;
				background: linear-gradient(135deg, #f8f9fa 0%, #e0f7fa 100%);
				border-left: 4px solid var(--accent-color);
			}

			#conversionResult {
				color: var(--primary-dark);
				font-weight: 600;
			}

			footer {
				background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
				color: var(--text-color);
				border-top: 1px solid #e9ecef;
				padding: 2rem 0;
			}

			.all-conversions {
				max-height: 400px;
				overflow-y: auto;
			}

			.table {
				border-collapse: separate;
				border-spacing: 0;
			}

			.table thead th {
				background-color: #f8f9fa;
				border-bottom: 2px solid var(--primary-light);
				font-weight: 600;
				color: var(--text-color);
			}

			.table tbody tr:hover {
				background-color: rgba(76, 201, 240, 0.05);
			}

			@media (max-width: 768px) {
				.conversion-card {
					margin-bottom: 1rem;
				}

				.btn {
					padding: 8px 16px;
				}

				.form-control,
				.form-select {
					padding: 10px;
				}
			}

			.fade-in {
				animation: fadeIn 0.6s cubic-bezier(0.39, 0.575, 0.565, 1);
			}

			@keyframes fadeIn {
				0% {
					opacity: 0;
					transform: translateY(10px);
				}
				100% {
					opacity: 1;
					transform: translateY(0);
				}
			}

			/* Icons styling */
			.feature-icon {
				font-size: 1.5rem;
				color: var(--primary-color);
				margin-right: 0.5rem;
				transition: all 0.3s ease;
			}

			.card-header-custom {
				background: linear-gradient(
					135deg,
					var(--primary-color) 0%,
					var(--primary-light) 100%
				);
				color: white;
				padding: 1rem;
				border-radius: 16px 16px 0 0;
			}

			/* Category indicator */
			.category-indicator {
				width: 40px;
				height: 40px;
				display: flex;
				align-items: center;
				justify-content: center;
				border-radius: 50%;
				background: linear-gradient(
					135deg,
					var(--primary-color) 0%,
					var(--primary-light) 100%
				);
				color: white;
				margin-right: 12px;
				font-size: 1.2rem;
				box-shadow: 0 4px 10px rgba(67, 97, 238, 0.15);
			}

			/* Button group styling */
			.btn-group-custom {
				display: flex;
				gap: 10px;
			}

			/* Scrollbar styling */
			.all-conversions::-webkit-scrollbar {
				width: 8px;
			}

			.all-conversions::-webkit-scrollbar-track {
				background: #f1f1f1;
				border-radius: 10px;
			}

			.all-conversions::-webkit-scrollbar-thumb {
				background: #c1c1c1;
				border-radius: 10px;
			}

			.all-conversions::-webkit-scrollbar-thumb:hover {
				background: #a8a8a8;
			}

			/* Result container styling */
			.result-container {
				position: relative;
				padding: 1.5rem;
				margin: 1.5rem 0;
				border-radius: 12px;
				overflow: hidden;
			}

			.result-container::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(
					135deg,
					rgba(76, 201, 240, 0.1) 0%,
					rgba(67, 97, 238, 0.1) 100%
				);
				z-index: -1;
			}

			/* Stylowanie dla banera cookie */
			.cookie-consent {
				position: fixed;
				bottom: 0;
				left: 0;
				right: 0;
				background: white;
				box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
				padding: 1rem 2rem;
				z-index: 1000;
				display: flex;
				align-items: center;
				justify-content: space-between;
				transform: translateY(100%);
				transition: transform 0.5s ease;
			}

			.cookie-consent.show {
				transform: translateY(0);
			}

			.cookie-consent p {
				margin: 0;
				flex: 1;
			}

			.cookie-btn {
				padding: 0.5rem 1.5rem;
				margin-left: 1rem;
			}
		</style>
	</head>
	<body>
		<!-- Nagłówek z nawigacją -->
		<nav class="navbar navbar-expand-lg navbar-light bg-white py-3">
			<div class="container">
				<a class="navbar-brand" href="#"
					><i class="fas fa-exchange-alt me-2"></i>PrzeliczMi</a
				>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item">
							<a class="nav-link" href="#kontakt"
								><i class="fas fa-envelope me-1"></i> Kontakt</a
							>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Główna sekcja konwertera -->
		<section id="konwerter" class="py-5">
			<div class="container">
				<div class="row">
					<!-- Główny panel konwersji -->
					<div class="col-lg-8">
						<div class="card conversion-card mb-4">
							<div class="card-header-custom">
								<h2 class="card-title mb-0 text-center text-white">
									<i class="fas fa-sync-alt me-2"></i>Przelicznik jednostek
								</h2>
							</div>
							<div class="card-body p-4">
								<!-- Instrukcje dla użytkownika -->
								<div class="alert alert-info mb-4">
									<h5 class="alert-heading">
										<i class="fas fa-info-circle me-2"></i>Jak korzystać z
										przelicznika:
									</h5>
									<ol class="mb-0">
										<li>
											Wybierz <strong>kategorię</strong> jednostek (np. długość,
											masa)
										</li>
										<li>
											Wybierz <strong>jednostkę źródłową</strong>, którą chcesz
											przeliczyć
										</li>
										<li>
											Wybierz <strong>jednostkę docelową</strong>, na którą
											chcesz przeliczyć
										</li>
										<li>Wpisz <strong>wartość</strong> do przeliczenia</li>
									</ol>
								</div>

								<form id="conversionForm">
									<!-- Kategoria jednostek -->
									<div class="mb-4">
										<label for="categorySelect" class="form-label">
											<i class="fas fa-list-ul me-1 feature-icon"></i>Wybierz
											kategorię:
										</label>
										<select
											id="categorySelect"
											class="form-select form-select-lg"
										>
											<option value="" selected disabled>
												Wybierz kategorię
											</option>
											<option value="length">Długość</option>
											<option value="mass">Masa</option>
											<option value="volume">Objętość</option>
											<option value="temperature">Temperatura</option>
											<option value="area">Powierzchnia</option>
											<option value="time">Czas</option>
											<option value="speed">Prędkość</option>
											<option value="pressure">Ciśnienie</option>
										</select>
									</div>

									<div class="row">
										<!-- Wartość -->
										<div class="col-md-4 mb-3">
											<label for="inputValue" class="form-label">
												<i class="fas fa-keyboard me-1 feature-icon"></i
												>Wartość:
											</label>
											<input
												type="number"
												placeholder="Wpisz wartość"
												class="form-control form-control-lg"
												id="inputValue"
												value=""
												step="any"
											/>
										</div>

										<!-- Jednostka źródłowa -->
										<div class="col-md-4 mb-3">
											<label for="fromUnit" class="form-label">
												<i class="fas fa-arrow-right me-1 feature-icon"></i>Z
												jednostki:
											</label>
											<select id="fromUnit" class="form-select form-select-lg">
												<option value="" selected disabled>
													Wybierz jednostkę
												</option>
											</select>
										</div>

										<!-- Jednostka docelowa -->
										<div class="col-md-4 mb-3">
											<label for="toUnit" class="form-label">
												<i class="fas fa-arrow-left me-1 feature-icon"></i>Na
												jednostkę:
											</label>
											<select id="toUnit" class="form-select form-select-lg">
												<option value="" selected disabled>
													Wybierz jednostkę
												</option>
											</select>
										</div>
									</div>

									<!-- Przyciski -->
									<div class="d-flex justify-content-center mt-4">
										<button
											type="button"
											id="resetButton"
											class="btn btn-secondary btn-lg"
										>
											<i class="fas fa-redo-alt me-1"></i>Reset
										</button>
									</div>
								</form>

								<!-- Wynik konwersji -->
								<div
									id="resultSection"
									class="text-center mt-4 p-4 rounded result-section d-none"
								>
									<div class="result-container">
										<h3><i class="fas fa-check-circle me-2"></i>Wynik:</h3>
										<p id="conversionResult" class="display-6 fw-bold"></p>
										<p class="text-muted small">
											Wyniki konwersji są przybliżone i mogą się różnić w
											zależności od źródła.
										</p>
									</div>
								</div>
							</div>
						</div>

						<!-- Lista wszystkich przeliczników dla kategorii -->
						<div
							id="allConversionsCard"
							class="card conversion-card mb-4 d-none"
						>
							<div class="card-header-custom">
								<h4 class="card-title mb-0 text-white">
									<i class="fas fa-th-list me-2"></i>Wszystkie przeliczniki w
									kategorii <span id="categoryName"></span>
								</h4>
							</div>
							<div class="card-body p-4">
								<div
									id="allConversionsTable"
									class="table-responsive all-conversions"
								>
									<table class="table table-hover">
										<thead>
											<tr>
												<th>Z</th>
												<th>Na</th>
												<th>Wartość</th>
											</tr>
										</thead>
										<tbody id="allConversionsBody">
											<!-- Tutaj będą generowane wyniki -->
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

					<!-- Panel boczny -->
					<div class="col-lg-4">
						<!-- Popularne konwersje -->
						<div class="card conversion-card mb-4">
							<div class="card-header-custom">
								<h4 class="card-title mb-0 text-white">
									<i class="fas fa-star me-2"></i>Popularne przeliczniki
								</h4>
							</div>
							<div class="card-body">
								<ul class="list-group list-group-flush" id="popularConversions">
									<li
										class="list-group-item popular-item"
										data-category="length"
										data-from="kilometer"
										data-to="mile"
										data-value="1"
									>
										<div class="d-flex align-items-center">
											<div class="category-indicator">
												<i class="fas fa-ruler"></i>
											</div>
											<span>kilometry na mile</span>
										</div>
									</li>
									<li
										class="list-group-item popular-item"
										data-category="mass"
										data-from="kilogram"
										data-to="pound"
										data-value="1"
									>
										<div class="d-flex align-items-center">
											<div class="category-indicator">
												<i class="fas fa-weight-hanging"></i>
											</div>
											<span>kilogramy na funty</span>
										</div>
									</li>
									<li
										class="list-group-item popular-item"
										data-category="temperature"
										data-from="celsius"
										data-to="fahrenheit"
										data-value="20"
									>
										<div class="d-flex align-items-center">
											<div class="category-indicator">
												<i class="fas fa-thermometer-half"></i>
											</div>
											<span>Stopnie Celsjusza na Fahrenheita</span>
										</div>
									</li>
									<li
										class="list-group-item popular-item"
										data-category="volume"
										data-from="liter"
										data-to="gallon_us"
										data-value="1"
									>
										<div class="d-flex align-items-center">
											<div class="category-indicator">
												<i class="fas fa-flask"></i>
											</div>
											<span>Litry na galony</span>
										</div>
									</li>
									<li
										class="list-group-item popular-item"
										data-category="length"
										data-from="meter"
										data-to="foot"
										data-value="1"
									>
										<div class="d-flex align-items-center">
											<div class="category-indicator">
												<i class="fas fa-ruler-horizontal"></i>
											</div>
											<span>Metry na stopy</span>
										</div>
									</li>
								</ul>
							</div>
						</div>

						<!-- Historia konwersji -->
						<div class="card conversion-card mb-4">
							<div class="card-header-custom">
								<h4 class="card-title mb-0 text-white">
									<i class="fas fa-history me-2"></i>Historia konwersji
								</h4>
							</div>
							<div class="card-body">
								<ul class="list-group list-group-flush" id="conversionHistory">
									<!-- Tutaj będzie historia konwersji -->
									<li class="list-group-item text-center text-muted">
										Brak historii konwersji
									</li>
								</ul>
								<div class="d-grid gap-2 mt-3">
									<button
										id="clearHistoryBtn"
										class="btn btn-sm btn-outline-secondary"
										disabled
									>
										<i class="fas fa-trash-alt me-1"></i>Wyczyść historię
									</button>
								</div>
							</div>
						</div>

						<!-- Przestrzeń reklamowa -->
						<div class="ad-space mb-4 p-3 text-center">
							<div>
								<i class="fas fa-ad mb-2" style="font-size: 2rem"></i>
								<p>Miejsce na Twoją reklamę</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Sekcja kontaktowa -->
		<section id="kontakt" class="py-5 bg-light">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-8">
						<div class="card conversion-card">
							<div class="card-header-custom">
								<h2 class="card-title mb-0 text-center text-white">
									<i class="fas fa-envelope me-2"></i>Kontakt
								</h2>
							</div>
							<div class="card-body p-4">
								<form
									id="contactForm"
									action="https://formsubmit.co/lukaszantkowiak@gmail.com"
									method="POST"
								>
									<!-- Konfiguracja formsubmit.co -->
									<input
										type="hidden"
										name="_subject"
										value="Nowa wiadomość z PrzeliczMi"
									/>
									<input type="hidden" name="_template" value="table" />
									<input
										type="hidden"
										name="_next"
										value="https://lukq1984.github.io/przeliczmi/#/thank-you.html"
									/>
									<!-- Zmieniona wartość _captcha na true dla lepszej ochrony -->
									<input type="hidden" name="_captcha" value="true" />
									<!-- Dodany honeypot dla ochrony przed spamem -->
									<input type="text" name="_honey" style="display:none">

									<div class="mb-3">
										<label for="nameInput" class="form-label">
											<i class="fas fa-user me-1 feature-icon"></i>Imię i
											nazwisko
										</label>
										<input
											type="text"
											class="form-control"
											id="nameInput"
											name="name"
											required
										/>
									</div>
									<div class="mb-3">
										<label for="emailInput" class="form-label">
											<i class="fas fa-at me-1 feature-icon"></i>Adres e-mail
										</label>
										<input
											type="email"
											class="form-control"
											id="emailInput"
											name="email"
											required
										/>
									</div>
									<div class="mb-3">
										<label for="messageInput" class="form-label">
											<i class="fas fa-comment me-1 feature-icon"></i>Wiadomość
										</label>
										<textarea
											class="form-control"
											id="messageInput"
											name="message"
											rows="4"
											required
										></textarea>
									</div>
									<div class="d-grid gap-2 d-md-flex justify-content-md-end">
										<button type="submit" class="btn btn-primary">
											<i class="fas fa-paper-plane me-1"></i>Wyślij wiadomość
										</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Baner informujący o ciasteczkach -->
		<div id="cookieConsent" class="cookie-consent">
			<p>
				<i class="fas fa-cookie-bite me-2"></i>
				Moja strona wykorzystuje pliki cookies do prawidłowego działania,
				analizy ruchu oraz zapamiętywania Twoich preferencji. Korzystając z
				witryny, wyrażasz zgodę na używanie plików cookies zgodnie z aktualnymi
				ustawieniami przeglądarki.
			</p>
			<button id="acceptCookies" class="btn btn-primary cookie-btn">
				<i class="fas fa-check me-1"></i>Rozumiem
			</button>
		</div>

		<!-- Stopka -->
		<footer class="py-4">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
						<a class="navbar-brand" href="#">
							<i class="fas fa-exchange-alt me-2"></i>PrzeliczMi
						</a>
					</div>
					<div class="col-md-6 text-center text-md-end">
						<p class="mb-0">
							&copy; 2025 PrzeliczMi. Wszelkie prawa zastrzeżone. Autor: Łukasz Antkowiak
						</p>
					</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-12 text-center">
						<p class="small text-muted">
							Wyniki konwersji mają charakter orientacyjny i nie powinny być
							używane, gdy wymagana jest bardzo wysoka dokładność.
						</p>
					</div>
				</div>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				// Obsługa ciasteczek
				const cookieConsent = document.getElementById("cookieConsent");
				const acceptCookies = document.getElementById("acceptCookies");

				// Sprawdź, czy użytkownik już zaakceptował ciasteczka
				if (!localStorage.getItem("cookiesAccepted")) {
					// Pokaż baner po krótkim opóźnieniu
					setTimeout(() => {
						cookieConsent.classList.add("show");
					}, 1000);
				}

				// Obsługa akceptacji ciasteczek
				acceptCookies.addEventListener("click", function () {
					localStorage.setItem("cookiesAccepted", "true");
					cookieConsent.classList.remove("show");
				});

				// Definicje jednostek
				const unitDefinitions = {
					length: {
						name: "Długość",
						baseUnit: "meter",
						units: {
							nanometer: {
								name: "nanometr|nanometry|nanometrów",
								factor: 1e-9,
							},
							micrometer: {
								name: "mikrometr|mikrometry|mikrometrów",
								factor: 1e-6,
							},
							millimeter: {
								name: "milimetr|milimetry|milimetrów",
								factor: 1e-3,
							},
							centimeter: {
								name: "centymetr|centymetry|centymetrów",
								factor: 1e-2,
							},
							decimeter: {
								name: "decymetr|decymetry|decymetrów",
								factor: 1e-1,
							},
							meter: { name: "metr|metry|metrów", factor: 1 },
							kilometer: { name: "kilometr|kilometry|kilometrów", factor: 1e3 },
							inch: { name: "cal|cale|cali", factor: 0.0254 },
							foot: { name: "stopa|stopy|stóp", factor: 0.3048 },
							yard: { name: "jard|jardy|jardów", factor: 0.9144 },
							mile: { name: "mila|mile|mil", factor: 1609.344 },
							nautical_mile: {
								name: "mila morska|mile morskie|mil morskich",
								factor: 1852,
							},
						},
					},
					mass: {
						name: "Masa",
						baseUnit: "kilogram",
						units: {
							microgram: {
								name: "mikrogram|mikrogramy|mikrogramów",
								factor: 1e-9,
							},
							milligram: {
								name: "miligram|miligramy|miligramów",
								factor: 1e-6,
							},
							gram: { name: "gram|gramy|gramów", factor: 1e-3 },
							kilogram: { name: "kilogram|kilogramy|kilogramów", factor: 1 },
							tonne: { name: "tona|tony|ton", factor: 1e3 },
							ounce: { name: "uncja|uncje|uncji", factor: 0.028349523125 },
							pound: { name: "funt|funty|funtów", factor: 0.45359237 },
							stone: { name: "kamień|kamienie|kamieni", factor: 6.35029318 },
						},
					},
					volume: {
						name: "Objętość",
						baseUnit: "liter",
						units: {
							milliliter: {
								name: "mililitr|mililitry|mililitrów",
								factor: 1e-3,
							},
							liter: { name: "litr|litry|litrów", factor: 1 },
							cubic_meter: {
								name: "metr sześcienny|metry sześcienne|metrów sześciennych",
								factor: 1e3,
							},
							gallon_us: {
								name: "galon amerykański|galony amerykańskie|galonów amerykańskich",
								factor: 3.78541178,
							},
							gallon_uk: {
								name: "galon brytyjski|galony brytyjskie|galonów brytyjskich",
								factor: 4.54609,
							},
							quart_us: {
								name: "kwarta amerykańska|kwarty amerykańskie|kwart amerykańskich",
								factor: 0.946352946,
							},
							pint_us: {
								name: "pinta amerykańska|pinty amerykańskie|pint amerykańskich",
								factor: 0.473176473,
							},
							cup_us: {
								name: "kubek amerykański|kubki amerykańskie|kubków amerykańskich",
								factor: 0.2365882365,
							},
							fluid_ounce_us: {
								name: "uncja płynu amerykańska|uncje płynu amerykańskie|uncji płynu amerykańskich",
								factor: 0.0295735296,
							},
							tablespoon_us: {
								name: "łyżka stołowa|łyżki stołowe|łyżek stołowych",
								factor: 0.0147867648,
							},
							teaspoon_us: {
								name: "łyżeczka|łyżeczki|łyżeczek",
								factor: 0.00492892159,
							},
						},
					},
					temperature: {
						name: "Temperatura",
						baseUnit: "celsius",
						units: {
							celsius: {
								name: "stopień Celsjusza|stopnie Celsjusza|stopni Celsjusza",
								factor: 1,
								offset: 0,
							},
							fahrenheit: {
								name: "stopień Fahrenheita|stopnie Fahrenheita|stopni Fahrenheita",
								factor: 5 / 9,
								offset: (-32 * 5) / 9,
							},
							kelvin: {
								name: "kelwin|kelwiny|kelwinów",
								factor: 1,
								offset: -273.15,
							},
						},
						convert: function (value, fromUnit, toUnit) {
							// Specjalne przetworzenie temperatury
							let celsius;
							if (fromUnit === "celsius") {
								celsius = value;
							} else if (fromUnit === "fahrenheit") {
								celsius = ((value - 32) * 5) / 9;
							} else if (fromUnit === "kelvin") {
								celsius = value - 273.15;
							}

							if (toUnit === "celsius") {
								return celsius;
							} else if (toUnit === "fahrenheit") {
								return (celsius * 9) / 5 + 32;
							} else if (toUnit === "kelvin") {
								return celsius + 273.15;
							}
						},
					},
					area: {
						name: "Powierzchnia",
						baseUnit: "square_meter",
						units: {
							square_millimeter: {
								name: "milimetr kwadratowy|milimetry kwadratowe|milimetrów kwadratowych",
								factor: 1e-6,
							},
							square_centimeter: {
								name: "centymetr kwadratowy|centymetry kwadratowe|centymetrów kwadratowych",
								factor: 1e-4,
							},
							square_meter: {
								name: "metr kwadratowy|metry kwadratowe|metrów kwadratowych",
								factor: 1,
							},
							hectare: { name: "hektar|hektary|hektarów", factor: 1e4 },
							square_kilometer: {
								name: "kilometr kwadratowy|kilometry kwadratowe|kilometrów kwadratowych",
								factor: 1e6,
							},
							square_inch: {
								name: "cal kwadratowy|cale kwadratowe|cali kwadratowych",
								factor: 0.00064516,
							},
							square_foot: {
								name: "stopa kwadratowa|stopy kwadratowe|stóp kwadratowych",
								factor: 0.09290304,
							},
							square_yard: {
								name: "jard kwadratowy|jardy kwadratowe|jardów kwadratowych",
								factor: 0.83612736,
							},
							acre: { name: "akr|akry|akrów", factor: 4046.8564224 },
							square_mile: {
								name: "mila kwadratowa|mile kwadratowe|mil kwadratowych",
								factor: 2589988.110336,
							},
						},
					},
					time: {
						name: "Czas",
						baseUnit: "second",
						units: {
							nanosecond: {
								name: "nanosekunda|nanosekundy|nanosekund",
								factor: 1e-9,
							},
							microsecond: {
								name: "mikrosekunda|mikrosekundy|mikrosekund",
								factor: 1e-6,
							},
							millisecond: {
								name: "milisekunda|milisekundy|milisekund",
								factor: 1e-3,
							},
							second: { name: "sekunda|sekundy|sekund", factor: 1 },
							minute: { name: "minuta|minuty|minut", factor: 60 },
							hour: { name: "godzina|godziny|godzin", factor: 3600 },
							day: { name: "dzień|dni|dni", factor: 86400 },
							week: { name: "tydzień|tygodnie|tygodni", factor: 604800 },
							month: { name: "miesiąc|miesiące|miesięcy", factor: 2629746 }, // średnio
							year: { name: "rok|lata|lat", factor: 31556952 }, // rok zwykły
							decade: { name: "dekada|dekady|dekad", factor: 315569520 },
							century: { name: "wiek|wieki|wieków", factor: 3155695200 },
						},
					},
					speed: {
						name: "Prędkość",
						baseUnit: "meter_per_second",
						units: {
							meter_per_second: {
								name: "metr na sekundę|metry na sekundę|metrów na sekundę",
								factor: 1,
							},
							kilometer_per_hour: {
								name: "kilometr na godzinę|kilometry na godzinę|kilometrów na godzinę",
								factor: 1 / 3.6,
							},
							mile_per_hour: {
								name: "mila na godzinę|mile na godzinę|mil na godzinę",
								factor: 0.44704,
							},
							knot: { name: "węzeł|węzły|węzłów", factor: 0.514444444 },
							foot_per_second: {
								name: "stopa na sekundę|stopy na sekundę|stóp na sekundę",
								factor: 0.3048,
							},
						},
					},
					pressure: {
						name: "Ciśnienie",
						baseUnit: "pascal",
						units: {
							pascal: { name: "paskal|paskale|paskali", factor: 1 },
							kilopascal: {
								name: "kilopaskal|kilopaskale|kilopaskali",
								factor: 1e3,
							},
							megapascal: {
								name: "megapaskal|megapaskale|megapaskali",
								factor: 1e6,
							},
							bar: { name: "bar|bary|barów", factor: 1e5 },
							psi: {
								name: "funt na cal kwadratowy|funty na cal kwadratowy|funtów na cal kwadratowy",
								factor: 6894.7572932,
							},
							atmosphere: {
								name: "atmosfera|atmosfery|atmosfer",
								factor: 101325,
							},
							torr: { name: "tor|tory|torów", factor: 133.322 },
							mmHg: {
								name: "milimetr słupa rtęci|milimetry słupa rtęci|milimetrów słupa rtęci",
								factor: 133.322387415,
							},
						},
					},
				};

				// Historia konwersji
				let conversionHistory =
					JSON.parse(localStorage.getItem("conversionHistory")) || [];

				// Referencje DOM
				const categorySelect = document.getElementById("categorySelect");
				const fromUnitSelect = document.getElementById("fromUnit");
				const toUnitSelect = document.getElementById("toUnit");
				const inputValue = document.getElementById("inputValue");
				const resultSection = document.getElementById("resultSection");
				const conversionResult = document.getElementById("conversionResult");
				const resetButton = document.getElementById("resetButton");
				const conversionHistoryList =
					document.getElementById("conversionHistory");
				const clearHistoryBtn = document.getElementById("clearHistoryBtn");
				const popularConversionsList =
					document.getElementById("popularConversions");
				const allConversionsCard =
					document.getElementById("allConversionsCard");
				const categoryNameSpan = document.getElementById("categoryName");
				const allConversionsBody =
					document.getElementById("allConversionsBody");

				// Aktualizacja listy historii
				function updateHistoryDisplay() {
					conversionHistoryList.innerHTML = "";

					if (conversionHistory.length === 0) {
						conversionHistoryList.innerHTML =
							'<li class="list-group-item text-center text-muted">Brak historii konwersji</li>';
						clearHistoryBtn.disabled = true;
					} else {
						clearHistoryBtn.disabled = false;

						// Pokaż ostatnie 5 konwersji
						const recentHistory = conversionHistory.slice(0, 5);

						recentHistory.forEach((item, index) => {
							const li = document.createElement("li");
							li.className = "list-group-item history-item";
							li.textContent = `${item.value} ${getUnitName(
								item.fromUnit,
								item.category
							)} → ${item.result} ${getUnitName(item.toUnit, item.category)}`;
							li.dataset.index = index;

							li.addEventListener("click", function () {
								applyConversion(item);
							});

							conversionHistoryList.appendChild(li);
						});
					}
				}

				// Funkcja pobierająca nazwę jednostki w odpowiedniej formie
				function getUnitName(unitKey, categoryKey) {
					const unit = unitDefinitions[categoryKey].units[unitKey];
					if (!unit) return unitKey;

					const nameParts = unit.name.split("|");
					return nameParts[0]; // Forma podstawowa
				}

				// Funkcja konwersji jednostek
				function convert(value, fromUnit, toUnit, category) {
					if (category === "temperature" && unitDefinitions[category].convert) {
						return unitDefinitions[category].convert(
							parseFloat(value),
							fromUnit,
							toUnit
						);
					}

					const fromDef = unitDefinitions[category].units[fromUnit];
					const toDef = unitDefinitions[category].units[toUnit];
					const baseValue = parseFloat(value) * fromDef.factor;
					return baseValue / toDef.factor;
				}

				// Funkcja do wypełniania list jednostek
				function populateUnitSelects(category) {
					fromUnitSelect.innerHTML =
						'<option value="" selected disabled>Wybierz jednostkę</option>';
					toUnitSelect.innerHTML =
						'<option value="" selected disabled>Wybierz jednostkę</option>';

					if (!category || !unitDefinitions[category]) {
						return;
					}

					const units = unitDefinitions[category].units;

					Object.keys(units).forEach((unit) => {
						const nameParts = units[unit].name.split("|");

						const fromOption = document.createElement("option");
						fromOption.value = unit;
						fromOption.textContent = nameParts[0];
						fromUnitSelect.appendChild(fromOption);

						const toOption = document.createElement("option");
						toOption.value = unit;
						toOption.textContent = nameParts[0];
						toUnitSelect.appendChild(toOption);
					});
				}

				// Funkcja do wykonania konwersji
				function performConversion() {
					const category = categorySelect.value;
					const fromUnit = fromUnitSelect.value;
					const toUnit = toUnitSelect.value;
					const value = inputValue.value;

					if (!category || !fromUnit || !toUnit || !value) {
						return;
					}

					const result = convert(value, fromUnit, toUnit, category);
					const formattedResult = formatResult(result);

					// Wyświetl wynik
					conversionResult.textContent = `${value} ${getUnitName(
						fromUnit,
						category
					)} = ${formattedResult} ${getUnitName(toUnit, category)}`;
					resultSection.classList.remove("d-none");
					resultSection.classList.add("fade-in");

					// Dodaj do historii
					addToHistory(value, fromUnit, toUnit, formattedResult, category);

					// Pokaż wszystkie konwersje dla wartości
					showAllConversions(value, fromUnit, category);
				}

				// Formatowanie wyniku
				function formatResult(value) {
					if (Math.abs(value) < 0.000001 && value !== 0) {
						return value.toExponential(6);
					}
					// Ograniczenie do 8 miejsc po przecinku
					return parseFloat(value.toFixed(8));
				}

				// Dodaj do historii
				function addToHistory(value, fromUnit, toUnit, result, category) {
					const newEntry = {
						value,
						fromUnit,
						toUnit,
						result,
						category,
						date: new Date().toISOString(),
					};
					conversionHistory.unshift(newEntry);

					// Ogranicz historię do 20 ostatnich konwersji
					if (conversionHistory.length > 20) {
						conversionHistory.pop();
					}

					// Zapisz w localStorage
					localStorage.setItem(
						"conversionHistory",
						JSON.stringify(conversionHistory)
					);

					// Aktualizuj widok
					updateHistoryDisplay();
				}

				// Pokaż wszystkie konwersje dla danej wartości
				function showAllConversions(value, fromUnit, category) {
					if (!category || !value || !fromUnit) return;

					allConversionsBody.innerHTML = "";
					categoryNameSpan.textContent = unitDefinitions[category].name;

					const units = unitDefinitions[category].units;

					Object.keys(units).forEach((toUnit) => {
						if (toUnit === fromUnit) return;

						const result = convert(value, fromUnit, toUnit, category);
						const formattedResult = formatResult(result);

						const row = document.createElement("tr");

						const fromCell = document.createElement("td");
						fromCell.textContent = `${value} ${getUnitName(
							fromUnit,
							category
						)}`;

						const toCell = document.createElement("td");
						toCell.textContent = getUnitName(toUnit, category);

						const valueCell = document.createElement("td");
						valueCell.textContent = formattedResult;
						valueCell.className = "fw-bold";

						row.appendChild(fromCell);
						row.appendChild(toCell);
						row.appendChild(valueCell);

						allConversionsBody.appendChild(row);
					});

					allConversionsCard.classList.remove("d-none");
				}

				// Zastosuj konwersję z historii
				function applyConversion(item) {
					categorySelect.value = item.category;
					populateUnitSelects(item.category);
					inputValue.value = item.value;
					fromUnitSelect.value = item.fromUnit;
					toUnitSelect.value = item.toUnit;

					performConversion();
				}

				// Nasłuchiwanie zdarzeń
				categorySelect.addEventListener("change", function () {
					populateUnitSelects(this.value);
					fromUnitSelect.selectedIndex = 0;
					toUnitSelect.selectedIndex = 0;
					resultSection.classList.add("d-none");
					allConversionsCard.classList.add("d-none");
				});

				fromUnitSelect.addEventListener("change", function () {
					if (toUnitSelect.value) {
						performConversion();
					}
				});

				toUnitSelect.addEventListener("change", function () {
					if (fromUnitSelect.value) {
						performConversion();
					}
				});

				inputValue.addEventListener("input", function () {
					if (fromUnitSelect.value && toUnitSelect.value) {
						performConversion();
					}
				});

				resetButton.addEventListener("click", function () {
					categorySelect.selectedIndex = 0;
					fromUnitSelect.innerHTML =
						'<option value="" selected disabled>Wybierz jednostkę</option>';
					toUnitSelect.innerHTML =
						'<option value="" selected disabled>Wybierz jednostkę</option>';
					inputValue.value = "1";
					resultSection.classList.add("d-none");
					allConversionsCard.classList.add("d-none");
				});

				clearHistoryBtn.addEventListener("click", function () {
					conversionHistory = [];
					localStorage.removeItem("conversionHistory");
					updateHistoryDisplay();
				});

				// Obsługa popularnych konwersji
				document.querySelectorAll(".popular-item").forEach((item) => {
					item.addEventListener("click", function () {
						const category = this.dataset.category;
						const fromUnit = this.dataset.from;
						const toUnit = this.dataset.to;
						const value = this.dataset.value;

						categorySelect.value = category;
						populateUnitSelects(category);

						setTimeout(() => {
							inputValue.value = value;
							fromUnitSelect.value = fromUnit;
							toUnitSelect.value = toUnit;
							performConversion();
						}, 100);
					});
				});

				// Obsługa formularza kontaktowego - nie blokujemy już standardowej wysyłki
				document
					.getElementById("contactForm")
					.addEventListener("submit", function (e) {
						// Nie blokujemy domyślnej akcji - niech formularz zostanie wysłany
						// Możemy dodać potwierdzenie przed wysyłką:
						const confirmed = confirm("Czy na pewno chcesz wysłać tę wiadomość?");
						if (!confirmed) {
							e.preventDefault();
						}
						// Nie resetujemy już formularza tutaj - przeglądarka zrobi to po przekierowaniu
					});

				// Zmiana tytułu dla formularza kontaktowego
				document.querySelector('input[name="_subject"]').value =
					"Nowa wiadomość z PrzeliczMi";

				// Inicjalizacja
				updateHistoryDisplay();
			});
		</script>
	</body>
</html>
